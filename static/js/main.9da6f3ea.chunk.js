(this.webpackJsonpcliente=this.webpackJsonpcliente||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),s=n(59),o=n.n(s),r=(n(70),n(25)),a=n(12),j=n(71)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"}),l=(n(34),n(3)),d=function(e){var t=e.nombre,n=Object(c.useState)(""),i=Object(a.a)(n,2),s=i[0],o=i[1],d=Object(c.useState)([]),b=Object(a.a)(d,2),u=b[0],h=b[1];j.on("connect",(function(){console.log(j.connected),console.log("Me conect\xe9 al socket")})),Object(c.useEffect)((function(){return j.on("CHAT",(function(e){h([].concat(Object(r.a)(u),[e])),console.log(e),console.log(u),console.log("Baj\xe9 la data")})),function(){j.off()}}));var O=Object(c.useRef)(null);Object(c.useEffect)((function(){O.current.scrollIntoView({behavior:"smooth"})}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"chat",children:[u.map((function(e,t){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[" ",Object(l.jsxs)("b",{children:[e.name," "]}),": ",e.message]})},t)})),Object(l.jsx)("div",{ref:O})]}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:t,message:s};j.emit("CHAT",n),console.log("Sub\xed la data"+n),o("")},children:[Object(l.jsx)("div",{children:Object(l.jsx)("label",{htmlFor:"",children:"   Escriba su mensaje"})}),Object(l.jsx)("textarea",{name:"",id:"",cols:"30",rows:"5",value:s,onChange:function(e){return o(e.target.value)}}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{class:"button",children:"Enviar"})})]})]})},b=function(e){var t=e.vuelos;return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"vuelos",children:t.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[" ",Object(l.jsxs)("h1",{children:[Object(l.jsx)("b",{children:"Avi\xf3n de c\xf3digo "}),": ",e.code," "]})," "]}),Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("b",{children:"Aerol\xednea "}),": ",e.airline]}),Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("b",{children:"Origen "}),": ",e.origin," "]}),Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("b",{children:"Destino "}),": ",e.destination]}),Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("b",{children:"Modelo "}),": ",e.plane]}),Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("b",{children:"Cantidad de asientos "}),": ",e.seats]}),Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("b",{children:" Personas "}),": "]}),e.passengers.map((function(e,t){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[" ",Object(l.jsxs)("b",{children:[" ",e.name,": "]})," de ",e.age," de edad"]})},t)}))]},t)}))})})},u=n(35),h=n(24),O=n(62),v=n(63),f=n(65),x=n(64),g=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_redraw",value:function(e){var t=e.width,n=e.height,c=e.ctx,i=e.isDragging,s=e.project,o=(e.unproject,this.props),r=o.points,a=o.color,j=void 0===a?"red":a,l=o.lineWidth,d=void 0===l?2:l,b=o.renderWhileDragging,u=void 0===b||b;c.clearRect(0,0,t,n),c.globalCompositeOperation="lighter",!u&&i||!r||(c.lineWidth=d,c.strokeStyle=j,c.beginPath(),r.forEach((function(e){var t=s([e[0],e[1]]);c.lineTo(t[0],t[1])})),c.stroke())}},{key:"render",value:function(){return Object(l.jsx)(h.a,{redraw:this._redraw.bind(this)})}}]),n}(c.PureComponent),p=function(e){var t=e.vuelos,n=Object(c.useState)({latitude:0,longitude:0,width:"50vw",height:"25vw",zoom:0}),i=Object(a.a)(n,2),s=i[0],o=i[1],r=[];for(var j in t){var d=[],b=t[j],O=[];O.push(b.origin[1]),O.push(b.origin[0]);var v=[];v.push(b.destination[1]),v.push(b.destination[0]),d.push(O),d.push(v),r.push(d)}return Object(l.jsx)("div",{children:Object(l.jsx)(h.b,Object(u.a)(Object(u.a)({},s),{},{mapboxApiAccessToken:"pk.eyJ1IjoiYWxvcnRpeiIsImEiOiJja3AyNWNoNGQxaGJ1MnZtdzV5MDU5ejdtIn0.Ih459NVdR91AZxTKOp0ufQ",onViewportChange:function(e){o(e)},children:r.map((function(e,t){return Object(l.jsx)("div",{children:Object(l.jsx)(g,{points:e})},t)}))}))})},m=0;var w=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(!1),u=Object(a.a)(o,2),h=u[0],O=u[1],v=Object(c.useState)([]),f=Object(a.a)(v,2),x=f[0],g=f[1];return Object(c.useEffect)((function(){console.log("Llegu\xe9 aqu\xed"),m<2&&(j.emit("FLIGHTS"),console.log("mand\xe9 a pedir los aviones"),m++)})),Object(c.useEffect)((function(){return j.on("FLIGHTS",(function(e){g(Object(r.a)(e)),console.log(x),console.log("Baj\xe9 la data de los vuelos")})),function(){j.off()}})),Object(l.jsxs)("div",{className:"App",children:[!h&&Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n&&O(!0)},children:[Object(l.jsx)("label",{htmlFor:"",children:" Introduzca su nombre "}),Object(l.jsx)("input",{value:n,onChange:function(e){return s(e.target.value)},placeholder:"Introduce nombre de usuario.."}),Object(l.jsx)("button",{class:"button",children:"Ir a la p\xe1gina"})]}),h&&Object(l.jsxs)(i.a.Fragment,{children:[Object(l.jsx)(p,{vuelos:x}),Object(l.jsx)(b,{vuelos:x}),Object(l.jsx)(d,{nombre:n})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),s(e),o(e)}))};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root")),S()},34:function(e,t,n){},70:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.9da6f3ea.chunk.js.map